define("category:widget/Ad/Ad.js",function(t,e,a){function i(){this.init.apply(this,arguments)}i.prototype={init:function(t){this.pagetn=t,this.$adwrapper=$(".adwrapper"),$.cookie.getRaw(t+"showedad")||this.fetchData(),this.$adwrapper.delegate(".closeAd","click",this.bind(this,this.closeAd))},fetchData:function(){$.ajax({url:"http://v.baidu.com/channel/baoku/ads?format=json",context:this,dataType:"jsonp",success:function(t){this.fetchCallback(t)},error:function(){}})},fetchCallback:function(t){var e=t.data.movie_focus_area_4.videos[1];if(10==e.stream_type){var a=this,i=$("#focus_ad"),s=i.children("img");i.attr("href",e.ext),s.attr("src",e.imgh_url),this.$adwrapper.css("display","block"),setTimeout(function(){a.closeAd()},5e3),this.setcookies()}},closeAd:function(){var t=this;return this.$adwrapper.animate({height:0},700,function(){t.$adwrapper.css("display","none")}),!1},bind:function(t,e){return function(){e.apply(t)}},setcookies:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=new Date(e,a,i,"23","59","59"),n=s.getTime()-t.getTime();$.cookie.setRaw(this.pagetn+"showedad",1,{expires:n,path:"/"})}},e=a.exports=i});
;define("category:widget/content/channelMap.js",function(i,o,a){a.exports={tvplay:{name:"电视剧",uri:"tvplay",listurl:"tv",haoUri:"dianshi",baokuUri:"tvbaoku"},movie:{name:"电影",uri:"movie",listurl:"movie",haoUri:"dianying",baokuUri:"moviebaoku"},tvshow:{name:"综艺",uri:"tvshow",listurl:"show",haoUri:"zongyi",baokuUri:"showbaoku"},comic:{name:"动漫",uri:"comic",listurl:"comic",haoUri:"dongman",baokuUri:"comicbaoku"}}});
;define("category:widget/content/content.js",function(require,exports,module){var _=require("common:static/vendor/underscore/underscore.js"),$=require("common:static/vendor/jquery/jquery.js"),Backbone=require("common:static/vendor/backbone/backbone.js"),channelMap=require("category:widget/content/channelMap.js");!function(){_.mixin({truncate:function(e,t,n){return null==e?"":(e=String(e),n=n||"...",t=~~t,e.length>t?e.slice(0,t)+n:e)},numberFormat:function(e,t,n,a){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),a="string"==typeof a?a:",";var i=e.split("."),o=i[0],l=i[1]?(n||".")+i[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+a)+l}})}();var bd={pageLoad:!1,Models:{},Views:{},Collections:{},Routers:{},utils:{},queryOption:["type","area","actor","start","complete","order","pn","rating","filter","prop","utype","channel"]},initedOrder=!1;$.fn.slideShow||($.fn.slideShow=function(e,t,n){var a={width:"show",marginLeft:"show",marginRight:"show",paddingLeft:"show",paddingRight:"show"};return this.animate(a,e,t,n)}),_.extend(bd.utils,{isCrossDomain:function(e){if("/"===e.substr(0,1))return!1;var t=location.protocol+"//"+location.host;return 0===e.indexOf(t)?!1:!0}}),_.extend(bd.Models,{AppModel:Backbone.Model.extend({defaults:{id:"",data:{}}}),QueryModel:Backbone.Model.extend({defaults:{filter:!1,type:"",area:"",actor:"",start:"",complete:"",order:"hot",pn:1,rating:"",prop:"",channel:globalChannel},genKey:function(){return $.param(this.toJSON())},getURI:function(){var e="hao123"===window.product?"_":"+",t={};_.each(this.toJSON(),function(e,n){e&&(t[n]=e)});var n=$.param(t);return n.replace(/\&/g,e).replace(/\=/g,"-")}}),FilterModel:Backbone.Model.extend({defaults:{order:{},cond:{name:"",field:"",value:[]},page:{prev:0,next:0,current:1,pages:[],first:0,last:0}},createPages:function(e,t){var n={current:e},a=Math.ceil(t/30),i=e-4,o=e+5,l=a+1;return a&&(i>1||(i=1),l>o||(o=l),n.pages=_.range(i,o),1===e||(n.prev=e-1),e===a||(n.next=e+1),1===Number(_.first(n.pages))||(n.first=1),Number(_.last(n.pages))===a||(n.last=a)),_.defaults(n,this.defaults.page)}}),VideoModel:Backbone.Model.extend({defaults:{title:"",id:"",url:"",imgv_url:"",s_intro:"",intro:"",rating:"",actor:[],area:[],type:[],site:[]},toJSON:function(){var e=_.clone(this.attributes);return e.rating=Number(e.rating)/10,e}})}),_.extend(bd.Collections,{AppCollection:Backbone.Collection.extend({model:bd.Models.AppModel,query:function(e){var t,n=e.get("channel"),a=e.genKey(),i=this,o=this.get(a);$("#channel").find(".filter-sel").each(function(){$(this).data("val")==n?$(this).addClass("filter-sel-active"):$(this).removeClass("filter-sel-active")}),o?i.trigger("query",o):(t=bd.apiUrl.replace(/@.*@/,n)+a,$.getJSON(t,function(e){i.add({id:a,data:e}),o=i.get(a),i.trigger("query",o)}))}})}),_.extend(bd.Views,{AppView:Backbone.View.extend({el:"#bd-content",initialize:function(){this.collection=new bd.Collections.AppCollection,this.collection.on("query",_.bind(this.collectionQuery,this))},events:{"click a.filter-sel":"filter","click a.bd-video-refresh":"refresh","click .sp-filter-toggle":"toggleMore"},refresh:function(e){e.preventDefault(),bd.app.navigate("",{trigger:!0})},toggleMore:function(e){var t=$(e.currentTarget);t.parent().hasClass("more-toggle")?(t.parent().removeClass("more-toggle"),t.html('更多 <i class="ic-ar"></i>')):(t.parent().addClass("more-toggle"),t.html('收起 <i class="ic-ar"></i>'))},filter:function(e){e.preventDefault(),$(window).scrollTop(0);var t=$(e.currentTarget),n={filter:!1},a="filter-sel-active",i=t.data("key"),o=t.data("val");t.hasClass("bd-pagination-page")||(n.pn=1),"channel"===i&&(n.filter=!0,n=_.defaults(n,bd.app.model.defaults),this.channelName=o,this.changeChannel(o)),t.hasClass(a)||(t.addClass(a).siblings().removeClass(a),n[i]=o,bd.app.load(n))},changeChannel:function(e){var t=window.location.hostname,n={tvplay:"tv",tvshow:"show",movie:"movie",comic:"comic"},a="";if(/\.baidu\.com$/.test(t))if(/^\/(tv|movie|comic|show)baoku\/list\//.test(window.location.pathname)){var i={tvplay:"tv",movie:"movie",comic:"cartoon",tvshow:"tamasha"};$(".navListLeft li."+i[e]+"Li").addClass("checked").siblings().removeClass("checked"),a="/"+n[e]+"baoku/list/"}else{var o=new RegExp("/"+n[e]+"/?$");$("#nav .menu-main li a").each(function(){var e=$(this).attr("href"),t=$(this).parent();o.test(e)?t.addClass("current"):t.removeClass("current")}),a="/"+n[e]+"/list/"}else if(/\.hao123\.com$/.test(t)){n={tvplay:"dianshi",tvshow:"zongyi",movie:"dianying",comic:"dongman"};var o=new RegExp("/"+n[e]+"/?$");$("#nav .main li a, #nav-quick-links li a").each(function(){var e=$(this).attr("href"),t=$(this).parent();o.test(e)?t.addClass("current"):t.removeClass("current")}),a="/"+n[e]+"_index/"}else/\.duba\.com$/.test(t)&&(n={tvplay:"dianshi",tvshow:"zongyi",movie:"dianying",comic:"dongman"},a="/"+n[e]+"/list/");window.tplvalue="sub"+e+("video"===window.product?"":"_"+window.product),V.nsclick.setParam("tn",window.tplvalue),V.nsclick.setParam("tpl",window.tplvalue),Backbone.history.root=a},loadding:function(e){clearInterval(this.loaddingTimer),e?this.loaddingTimer=_.delay(function(){$("#bd-video-loading").show()},200):$("#bd-video-loading").hide()},collectionQuery:function(e){var t=bd.app,n=e.get("data"),a=(e.get("id"),n.condition_order_list),i=n.videoshow||{videos:[]},o=parseInt(n.total_num,10),l=t.model,s=l.toJSON(),r=s.pn?parseInt(l.get("pn"),10):1,d=o>2e3?2e3:o,p="hao123"===window.product?s.filter||!_.isUndefined(s.actor):s.filter;p&&t.conditionsView.model.set({order:a.order_list,cond:a.condition_list}),t.videoView.collection.reset(i.videos),t.conditionsView.model.set({page:t.conditionsView.model.createPages(r,d)}),this.pvLog(o)},logFlag:1,pvLog:function(e){var t=window.V,n=bd.app.getQuery();if(t&&(e||(n.noresult=!0),n.u=document.location.href,t.loadImg(bd.logUrl+$.param($.extend(n,{tpl:window.tplvalue,tn:window.tplvalue}))),"hao123"===window.product)){var a={u:document.location.href};1===this.logFlag?(document.referrer&&(a.ref=document.referrer),this.logFlag=0):a.ref=document.location.href,t.loadImg(bd.haoLogUrl+$.param(a))}}}),ConditionsView:Backbone.View.extend({initialize:function(){this.model=new bd.Models.FilterModel,this.model.on("change:cond",_.bind(this.renderCond,this)),this.model.on("change:order",_.bind(this.renderOrder,this)),this.model.on("change:page",_.bind(this.renderPage,this))},templateCond:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",__p+="\n    ",_.each(conditions,function(e){__p+="\n        ",("player"!==window.product||"资源"!==e.name)&&(__p+='\n        <div class="bd-filter-section">\n            <h3 class="bd-filter-title">'+(null==(__t=e.name)?"":_.escape(__t))+'：</h3>\n            <div class="bd-filter-list filter-group" static="bl=type&stp='+(null==(__t=e.field)?"":__t)+'">\n                ',_.each(e.value,function(t,n){__p+='\n                    <a data-key="'+(null==(__t=e.field)?"":__t)+'"\n                       data-val="',0!=n&&(__p+=""+(null==(__t=t)?"":_.escape(__t))),__p+='"\n                       class="filter-sel ',(!query[e.field]&&0==n||query[e.field]==t)&&(__p+=" filter-sel-active "),__p+='"\n                       title="'+(null==(__t=t)?"":_.escape(__t))+'">\n                        <span>'+(null==(__t=t)?"":_.escape(__t))+"</span>\n                    </a>\n                "}),__p+="\n            </div>\n        </div>\n        "),__p+="\n    "}),__p+="\n";return __p},templateOrder:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",__p+="\n\n    ",_.each(orderlist,function(e,t){__p+='\n        <a data-key="order"\n           data-val="'+(null==(__t=e.field)?"":__t)+'"\n           class="filter-sel',1==t&&(__p+=" filter-sel-middle"),__p+="",query.order==e.field&&(__p+=" filter-sel-active"),__p+='"\n           title="'+(null==(__t=e.name)?"":_.escape(__t))+'">\n            <span>'+(null==(__t=e.name)?"":_.escape(__t))+"</span>\n        </a>\n    "}),__p+="\n";return __p},templatePage:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",__p+="\n\n    ",first&&(__p+='\n        <a data-key="pn" data-val="'+(null==(__t=first)?"":__t)+'" class="bd-pagination-page bd-pagination-prev filter-sel" title="首页" href="#">首页</a>\n    '),__p+="\n    ",prev&&(__p+='\n        <a data-key="pn" data-val="'+(null==(__t=prev)?"":__t)+'" class="bd-pagination-page bd-pagination-prev filter-sel" title="上一页" href="#">上一页</a>\n    '),__p+="\n    ",_.each(pages,function(e){__p+='\n        <a data-key="pn" data-val="'+(null==(__t=e)?"":__t)+'" class="bd-pagination-page ',current==e&&(__p+=" filter-sel-active "),__p+=' filter-sel" title="第'+(null==(__t=e)?"":__t)+'页" href="#">'+(null==(__t=e)?"":__t)+"</a>\n    "}),__p+="\n    ",next&&(__p+='\n        <a data-key="pn" data-val="'+(null==(__t=next)?"":__t)+'" class="bd-pagination-page bd-pagination-next filter-sel" title="下一页" href="#">下一页</a>\n    '),__p+="\n    ",last&&(__p+='\n        <a data-key="pn" data-val="'+(null==(__t=last)?"":__t)+'" class="bd-pagination-page bd-pagination-prev filter-sel" title="尾页" href="#">尾页</a>\n    '),__p+="\n";return __p},renderCond:function(){var e=this.model.get("cond"),t=bd.app.getQuery();this.packCollect(e,t);var n=this.templateCond({conditions:e,query:t});return $("#bd-filter-condition").html(n),this.initFilterItem(),this},packCollect:function(e,t){if(t.actor&&!initedOrder){var n=t.actor,a=-1,i=-1;_.find(e,function(e,t){return e.field&&"actor"===e.field&&e.value&&e.value.length>1&&e.value.indexOf(n)>17?(i=t,a=e.value.indexOf(n),!0):void 0}),i>-1&&a>-1&&(e[i].value.splice(a,1),e[i].value.splice(1,0,n),initedOrder=!0)}},initFilterItem:function(){$(".bd-filter-list").each(function(e,t){$(t).get(0).scrollHeight>50&&$(this).after('<span class="sp-filter-toggle">更多<i class="ic-ar"></i></span>')})},renderOrder:function(){var e=this.model.get("order"),t=bd.app.getQuery(),n=this.templateOrder({orderlist:e,query:t});return $("#bd-filter-order").html(n),this},renderPage:function(){var e=this.model.get("page"),t=(bd.app.getQuery(),this.templatePage(e));return $("#bd-pagination-list").html(t),this}}),VideoView:Backbone.View.extend({el:"#bd-video-list",initialize:function(){this.collection=new Backbone.Collection([],{model:bd.Models.VideoModel}),this.collection.on("reset",_.bind(this.render,this))},template:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",__p+="\n\n    ",videos.length?(__p+="\n        ",_.each(videos,function(e,t){__p+="\n            ";var n={hao123:"/"+channelMap[subChannel].haoUri+"/"+e.id+".htm",player:"/"+channelMap[subChannel].baokuUri+"/"+e.id+".htm?frp=browse",video:e.url,duba:"/"+channelMap[subChannel].haoUri+"/"+e.id+".htm"},a=n[window.product];__p+='\n            <li static="bl='+(null==(__t=pageTn)?"":__t)+"_show&to=search&no="+(null==(__t=t)?"":__t)+'" data-id="'+(null==(__t=e.id)?"":__t)+'" class="bd-video-item ',t%6===5&&(__p+="bd-video-item-last"),__p+=" ",__p+=t%6===4||t%6===5?"bd-video-meta-left":" bd-video-meta-right ",__p+='">\n                <div class="bd-video-poster">\n                    <a static="stp=po" href="'+(null==(__t=a)?"":__t)+'" target="_blank"  class="bd-video-link">\n                        <img class="bd-video-img" src="'+(null==(__t=e.imgv_url)?"":__t)+'" alt="'+(null==(__t=e.title)?"":_.escape(__t))+'"  />\n                        ',"movie"==subChannel&&(__p+="\n                            ",__p+=e.site.length?'\n                                <span class="bd-video-complete"></span>\n                            ':'\n                                <span class="bd-video-nocomplete"></span>\n                            ',__p+="\n                            "),__p+="\n                        ",e.update?(__p+='\n                            <span class="bd-video-update">\n                                ',"更新至"==e.update&&(e.update="即将播出"),__p+="\n                                "+(null==(__t=e.update)?"":__t)+"\n                            </span>\n                        "):e.date&&(__p+='\n                            <span class="bd-video-date">\n                                '+(null==(__t=e.date)?"":__t)+" 年\n                            </span>\n                        "),__p+='\n                        <span class="bd-video-bg"></span>\n                    </a>\n                </div>\n                <div class="bd-video-primary">\n                    <a static="stp=ti" href="'+(null==(__t=a)?"":__t)+'" title="'+(null==(__t=e.title)?"":_.escape(__t))+'" target="_blank">\n                        <h4 class="bd-video-title">\n                            '+(null==(__t=e.title)?"":_.escape(__t))+"</a>\n                        </h4>\n                        ",e.s_intro&&(__p+='\n                            <div class="bd-video-intro">\n                                '+(null==(__t=e.s_intro)?"":__t)+"\n                            </div>\n                        "),__p+="\n                        ",e.rating&&(__p+='\n                            <span class="bd-video-rating">\n                                '+(null==(__t=_.numberFormat(e.rating,1))?"":__t)+"\n                            </span>\n                        "),__p+="\n                    </a>\n                </div>\n            </li>\n        "}),__p+="\n    "):__p+='\n        <li class="bd-video-none">\n            <p class="bd-video-none-tip">\n                没有找到符合条件的影片，建议您减少一些筛选条件试试。\n            </p>\n            <a static="stp=refresh" class="bd-video-refresh" href="#">\n                重新筛选\n            </a>\n        </li>\n    ',__p+="\n";return __p},templateMeta:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="",__p+="\n    ";var urls={hao123:"/"+channelMap[subChannel].haoUri+"/"+item.id+".htm",player:"/"+channelMap[subChannel].baokuUri+"/"+item.id+".htm?frp=browse",video:item.url,duba:"/"+channelMap[subChannel].haoUri+"/"+item.id+".htm"},detailURL=urls[window.product];__p+='\n    <div class="bd-video-meta">\n        <div class="bd-video-meta-bg"></div>\n        <div static="id=poplayer" class="bd-video-meta-bd">\n                <h4 class="bd-video-title">\n                    <a static="stp=ti" href="'+(null==(__t=detailURL)?"":__t)+'" title="'+(null==(__t=item.title)?"":_.escape(__t))+'" target="_blank">\n                        '+(null==(__t=item.title)?"":_.escape(__t))+"\n                    </a>\n                </h4>\n                ",item.rating&&(__p+='\n                    <span class="bd-video-rating">'+(null==(__t=_.numberFormat(item.rating,1))?"":__t)+"</span>\n                "),__p+='\n                <ul class="bd-video-meta-list">\n                    ',("movie"==subChannel||"tvplay"==subChannel||"tamasha"==subChannel)&&(__p+='\n                    <li class="bd-video-actors">\n                        <span class="bd-video-tip">\n                            ',__p+="tamasha"==subChannel?"\n                                主持:\n                            ":"\n                                主演:\n                            ",__p+="\n                        </span>\n                        ",item.actor.length?_.each(item.actor,function(e,t){if(__p+="\n                            ",2>t){__p+="\n                            ";var n="/v?word="+e.nameEnc+"&ct=301989888";"hao123"===window.product?n+="&fr=video":"player"===window.product?n+="&yingyin=1":"duba"===window.product&&(n+="&fr=duba"),__p+='\n                            <a static="stp=ac" href="'+(null==(__t=n)?"":__t)+'" title="'+(null==(__t=e.name)?"":_.escape(__t))+'" target="_blank">'+(null==(__t=e.name)?"":_.escape(__t))+"</a>\n                            "}__p+="\n                        "}):__p+='\n                            <span class="bd-video-meta-none">暂无</span>\n                        ',__p+="\n                    </li>\n                    "),__p+='\n                    <li class="bd-video-types">\n                        <span class="bd-video-tip">类型:</span>\n                        ',item.type.length?_.each(item.type,function(e,t){__p+="\n                            ",2>t&&(__p+='\n                            <span class="bd-video-meta-filter">'+(null==(__t=e.name)?"":_.escape(__t))+"</span>\n                            "),__p+="\n                        "}):__p+='\n                            <span class="bd-video-meta-none">暂无</span>\n                        ',__p+='\n                    </li>\n                    <li class="bd-video-areas">\n                        <span class="bd-split">|</span>\n                        <span class="bd-video-tip">地区:</span>\n                        ',item.area.length?_.each(item.area,function(e,t){__p+="\n                            ",2>t&&(__p+='\n                            <span class="bd-video-meta-filter">'+(null==(__t=e.name)?"":_.escape(__t))+"</span>\n                            "),__p+="\n                        "}):__p+='\n                            <span class="bd-video-meta-none">暂无</span>\n                        ',__p+='\n                    </li>\n                    <li class="bd-video-starts">\n                        <span class="bd-split">|</span>\n                        <span class="bd-video-tip">年代:</span>\n                        ',__p+=item.date?'\n                            <span class="bd-video-meta-filter">'+(null==(__t=item.date)?"":_.escape(__t))+"</span>\n                        ":'\n                            <span class="bd-video-meta-none">暂无</span>\n                        ',__p+='\n                    </li>\n                </ul>\n                <p class="bd-video-intro">\n                    ',__p+=item.intro?"\n                    "+(null==(__t=_.truncate(item.intro,57))?"":_.escape(__t))+'\n                    <a static="stp=more" class="bd-video-intro-more" href="'+(null==(__t=detailURL)?"":__t)+'" title="'+(null==(__t=item.title)?"":_.escape(__t))+'" target="_blank">更多</a>\n                    ':"\n                        暂无简介\n                    ",__p+='\n                </p>\n            </div>\n        <div class="bd-video-meta-bg"></div>\n    </div>\n\n'}return __p},events:{"mouseenter div.bd-video-poster":"mouseenterHander","mouseleave li.bd-video-item":"mouseleaveHandler"},render:function(){var e=this.template({subChannel:bd.app.appView.channelName,pageTn:"sub"+bd.app.appView.channelName,videos:this.collection.toJSON()});return this.$el.hide(),this.$el.html(e),bd.app.appView.loadding(!1),this.$el.show(),this},mouseenterHander:function(e){this.mouseenterTimer=_.delay(this.$mouseenterHander,300,e,this)},$mouseenterHander:function(e,t){var n,a,i=$(e.currentTarget).parent(),o="hasMeta",l="bd-video-item-active";i.data(o)||(n=i.data("id"),i.prepend(t.renderMeta(n)),i.data(o,!0)),i.hasClass(l)||(i.addClass(l),a=i.find("div.bd-video-meta"),a.slideShow("fast"))},renderMeta:function(e){var t=this.collection.get(e);return this.templateMeta({subChannel:bd.app.appView.channelName,item:t.toJSON()})},mouseleaveHandler:function(e){var t=$(e.currentTarget),n="bd-video-item-active",a=t.find("div.bd-video-meta");clearTimeout(this.mouseenterTimer),a.hide(),t.removeClass(n)}})}),_.extend(bd.Routers,{AppRouter:Backbone.Router.extend({initialize:function(){this.initViews(),this.model=new bd.Models.QueryModel,this.model.on("change",_.bind(this.modelChange,this))},initViews:function(){var e=bd.Views;this.conditionsView=new e.ConditionsView,this.videoView=new e.VideoView,this.appView=new e.AppView},modelChange:function(e){this.appView.loadding(!0),this.appView.collection.query(e)},routes:{"":"index","*filter":"filter"},index:function(){this.load(_.defaults({filter:!0},this.model.defaults))},filter:function(e){var t="hao123"===window.product?"_":"+",n=e.split(t),a={};try{_.each(n,function(e){e=$.trim(e);var t=e.split("-"),n=t[1];n&&(a[decodeURIComponent(t[0])]=decodeURIComponent(n))})}catch(i){return void this.navigate("",{trigger:!0,replace:!0})}if(bd.pageLoad||(a.filter=!0),a.channel){var o,l={tvplay:["tvplay","tv","dianshi","dianshiju"],tvshow:["tvshow","show","zongyi","tamasha"],movie:["movie","dianying"],comic:["comic","cartoon","dongman"]};_.each(l,function(e,t){return $.inArray(a.channel,e)>-1?void(o=t):void 0}),!o&&(o="tvplay"),a.channel=o}this.load(a)},getQuery:function(){return this.model.toJSON()},load:function(e){var t,n=["actor","pn","filter","order"],a=_.pick(e||{},bd.queryOption);"hao123"===window.product&&(a.actor?(a=_.defaults(_.pick(a,n),{type:"",area:"",actor:"",start:"",complete:"",order:"hot",pn:1,rating:"",prop:""}),a.filter=!0):this.model.get("actor")&&_.keys(_.omit(a,n)).length>0&&(a.actor="")),this.model.set(a),t=this.model.getURI(),this.navigate(t,{trigger:!1,replace:!1})}})}),bd.init=function(e){_.extend(bd,e),bd.apiUrl+=bd.utils.isCrossDomain(bd.apiUrl)?"?callback=?&":"?";var t={tvplay:"tvplay",tamasha:"tvshow",movie:"movie",cartoon:"comic"};$(function(){bd.app=new bd.Routers.AppRouter,bd.app.appView.channelName=t[e.subChannel]||"tvplay",Backbone.history.start({pushState:!0,root:bd.root})})},module.exports=exports=bd.init});
;define("category:widget/contentSync/content.js",function(e,t,i){var o=e("common:static/vendor/jquery/jquery.js"),n=e("common:static/ui/oo/klass.js");o.fn.slideShow||(o.fn.slideShow=function(e,t,i){var o={width:"show",marginLeft:"show",marginRight:"show",paddingLeft:"show",paddingRight:"show"};return this.animate(o,e,t,i)});var r=n.CC.sub({init:function(e){this.opt=e,this.initFilterItem(),this.pvLog()},events:{"mouseenter .bd-video-item":"hoverInHandler","mouseleave .bd-video-item":"hoverOutHandler","click .sp-filter-toggle":"toggleMore"},elements:{".bd-filter-list":"filterItem"},initFilterItem:function(){this.filterItem.each(function(e,t){o(t).get(0).scrollHeight>50&&o(this).after('<span class="sp-filter-toggle">更多<i class="ic-ar"></i></span>')})},hoverInHandler:function(e){clearTimeout(this.mouseleaveTimer),this.mouseenterTimer=setTimeout(function(){var t=o(e.target);t.parents(".bd-video-item").addClass("bd-video-item-active").find(".bd-video-meta").slideShow("slow")},300)},hoverOutHandler:function(e){clearTimeout(this.mouseenterTimer);var t=o(e.target);t.parents(".bd-video-item").removeClass("bd-video-item-active").find(".bd-video-meta").hide()},toggleMore:function(e){var t=o(e.currentTarget);t.parent().hasClass("more-toggle")?(t.parent().removeClass("more-toggle"),t.html('更多 <i class="ic-ar"></i>')):(t.parent().addClass("more-toggle"),t.html('收起 <i class="ic-ar"></i>'))},pvLog:function(){var e=window.V,t={};return e?(this.opt.total||(t.noresult=!0),t.u=document.location.href,void e.loadImg(this.opt.logUrl+o.param(t))):setTimeout(this.proxy(this.pvLog),200)}});i.exports=function(e){new r(e)}});